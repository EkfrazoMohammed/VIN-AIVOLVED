"use strict";(self.webpackChunknew_dashboard=self.webpackChunknew_dashboard||[]).push([[320],{2320:(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});var a=s(5043),n=s(6058),l=s(3003),c=(s(2428),s(9029)),r=s(579);function i(e){let{loading:t,categoryDefects:s,productionData:i}=e;(0,l.wA)();const[d,o]=(0,a.useState)(!0);(0,a.useEffect)((()=>{const e=setTimeout((()=>{o(!1)}),4e3);return()=>clearTimeout(e)}),[i]);const u=Object.values(s||{}).reduce(((e,t)=>e+t),0),f={labels:null===i||void 0===i?void 0:i.map((e=>e.date_time)),datasets:[{label:"Defect Percentage",data:null===i||void 0===i?void 0:i.map((e=>parseInt(e.defect_percentage,10))),backgroundColor:"#5190dd",minBarLength:15}]},m={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:e=>"".concat(e.raw,"M")}},datalabels:{color:"#ffff",font:{size:(null===i||void 0===i?void 0:i.length)>15?7:10}}},scales:{y:{beginAtZero:!0,ticks:{callback:e=>"".concat(e,"M")}},x:{grid:{display:!1},ticks:{autoSkip:!1,maxRotation:90,minRotation:45}}}};return(0,r.jsxs)("div",{className:"py-4 px-0",children:[(0,r.jsx)("h1",{className:"section-title text-red-700 mb-4",children:(0,r.jsx)("span",{className:"section-title-overlay font-bold",children:"Real-Time Manufacturing DPMU"})}),(0,r.jsxs)("div",{className:"flex mb-4",children:[(0,r.jsxs)("div",{className:"flex-grow mr-4 min-w-52 max-w-96",children:[(0,r.jsxs)("div",{className:"p-3 mb-2 border-2 rounded-md bg-[#ffe0e2]",children:[(0,r.jsx)("div",{className:"flex justify-between items-center mb-2",children:(0,r.jsx)("span",{className:"text-lg font-semibold",children:"Total Defects"})}),(0,r.jsx)("div",{className:"text-4xl font-semibold text-red-500",children:u})]}),(0,r.jsxs)("div",{className:"p-2 border-1 rounded-md max-h-[350px] overflow-auto bg-[#D2D7E9]",children:[(0,r.jsx)("h2",{className:"text-lg mb-2 font-semibold text-[#4A5068]",children:"Defects by Types"}),(0,r.jsx)("ul",{children:t||d?(0,r.jsx)("li",{className:"flex justify-center p-2",children:(0,r.jsx)("span",{className:"max-w-28 text-wrap font-bold text-gray-500",children:"Loading..."})}):Object.keys(s||{}).map((e=>(0,r.jsxs)("li",{className:"flex justify-between items-center bg-[#ff676e] p-2 mb-2 rounded",children:[(0,r.jsx)("span",{className:"max-w-32 text-wrap font-bold break-words",children:e}),(0,r.jsx)("span",{className:"font-bold",children:s[e]})]},e)))})]})]}),(0,r.jsx)("div",{className:"flex w-[75%] bg-white rounded-md",children:d?(0,r.jsx)("div",{className:"flex justify-center items-center w-full",children:(0,r.jsx)(c.A,{size:"large",tip:"Loading"})}):null!==i&&void 0!==i&&i.every((e=>0===e.defect_percentage))?(0,r.jsx)("div",{className:"flex justify-center items-center font-extrabold h-52 text-center w-full",children:"NO DATA"}):(0,r.jsx)("div",{style:{width:"100%",overflowX:(null===i||void 0===i?void 0:i.length)>15?"auto":"visible"},children:(0,r.jsx)("div",{className:"bg-white py-3 px-1 rounded-md",style:{width:5*(null===i||void 0===i?void 0:i.length)+"%",minWidth:"100%",height:"400px",display:"flex",justifyContent:"flex-start"},children:(0,r.jsx)(n.yP,{data:f,options:m,className:"w-full"})})})})]})]})}},6058:(e,t,s)=>{s.d(t,{yP:()=>m});var a=s(5043),n=s(6361);const l="label";function c(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function r(e,t){e.labels=t}function i(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l;const a=[];e.datasets=t.map((t=>{const n=e.datasets.find((e=>e[s]===t[s]));return n&&t.data&&!a.includes(n)?(a.push(n),Object.assign(n,t),n):{...t}}))}function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;const s={labels:[],datasets:[]};return r(s,e.labels),i(s,e.datasets,t),s}function o(e,t){const{height:s=150,width:l=300,redraw:o=!1,datasetIdKey:u,type:f,data:m,options:x,plugins:b=[],fallbackContent:h,updateMode:p,...g}=e,j=(0,a.useRef)(null),v=(0,a.useRef)(),w=()=>{j.current&&(v.current=new n.t1(j.current,{type:f,data:d(m,u),options:x&&{...x},plugins:b}),c(t,v.current))},y=()=>{c(t,null),v.current&&(v.current.destroy(),v.current=null)};return(0,a.useEffect)((()=>{!o&&v.current&&x&&function(e,t){const s=e.options;s&&t&&Object.assign(s,t)}(v.current,x)}),[o,x]),(0,a.useEffect)((()=>{!o&&v.current&&r(v.current.config.data,m.labels)}),[o,m.labels]),(0,a.useEffect)((()=>{!o&&v.current&&m.datasets&&i(v.current.config.data,m.datasets,u)}),[o,m.datasets]),(0,a.useEffect)((()=>{v.current&&(o?(y(),setTimeout(w)):v.current.update(p))}),[o,x,m.labels,m.datasets,p]),(0,a.useEffect)((()=>{v.current&&(y(),setTimeout(w))}),[f]),(0,a.useEffect)((()=>(w(),()=>y())),[]),a.createElement("canvas",Object.assign({ref:j,role:"img",height:s,width:l},g),h)}const u=(0,a.forwardRef)(o);function f(e,t){return n.t1.register(t),(0,a.forwardRef)(((t,s)=>a.createElement(u,Object.assign({},t,{ref:s,type:e}))))}const m=f("bar",n.A6)}}]);
//# sourceMappingURL=320.b1f89bf0.chunk.js.map